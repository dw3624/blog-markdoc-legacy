{"pageProps":{"markdoc":{"content":{"$$mdtype":"Tag","name":"article","attributes":{},"children":[{"$$mdtype":"Tag","name":"Heading","attributes":{"level":1,"id":"react-lifecycle"},"children":["React Lifecycle"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["컴퍼넌트 생성부터 소멸까지 발생하는 일련의 event 흐름"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["크게 세 가지로 분류됨",{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["Mounting : 컴퍼넌트 생성"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["Update : 컴퍼넌트 갱신"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["UnMount : 컴퍼넌트 정지"]}]}]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"img","attributes":{"src":"./2022-09-07-React-lifecycle/react-diagram1.png","alt":"react-diagram1"},"children":[]}," ",{"$$mdtype":"Tag","name":"img","attributes":{"src":"./2022-09-07-React-lifecycle/react-diagram2.png","alt":"react-diagram2"},"children":[]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"mount"},"children":["Mount"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"실행순서"},"children":["실행순서"]},{"$$mdtype":"Tag","name":"table","attributes":{},"children":[{"$$mdtype":"Tag","name":"thead","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Hook"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Trigger"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["역할"]}]}]},{"$$mdtype":"Tag","name":"tbody","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["constructor"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["컴퍼넌트 작성"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["1.state 초기화 <br> 2.이벤트핸들러를 인스턴스와 바인딩"]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["render"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["랜더"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["UI랜더링"]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["componentDidMount"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["컴퍼넌트 마운트 후"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["1.네트워크요청 송신 <br> 2. DOM 조작"]}]}]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["※ render 내부에 ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["setState()"]}," 사용하면 무한루프 돼버림"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"update"},"children":["Update"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"실행순서"},"children":["실행순서"]},{"$$mdtype":"Tag","name":"table","attributes":{},"children":[{"$$mdtype":"Tag","name":"thead","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Hook"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Trigger"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["역할"]}]}]},{"$$mdtype":"Tag","name":"tbody","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["render"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["랜더"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["UI 랜더링 <br> (마운트단계 render)"]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["componentDidUpdate"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["1. setState() <br> 2. forceUpdate() <br> 3.New Props"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["1. 네트워크 요청 송신 <br> 2. DOM 조작"]}]}]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["※ componentDidUpdate에서 ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["setState()"]}," 설정은 무한루프 피하기 위해 if문에 포함해야"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"사례"},"children":["사례"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"javascript"},"children":["class App extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state {\n            count: 0\n        }\n    }\n    handleClick = () => {\n        this.setState({\n            count: this.state.count + 1\n        })\n    }\n    render() {\n        return (\n            <div>\n                <Counter count={this.state.count} />\n                <button onClick={this.handleClick}> Click </button>\n            </div>\n        )\n    }\n}\n\nclass Counter extends React.Component {\n    render() {\n        return <h1 id=\"content\"> Click count: {this.props.count}</h1>\n    }\n\n    //아래는 잘못된 사례: 무한루프\n    /*\n    componentDidUpdate() {\n        this.setState({})\n    }\n    */\n\n    //올바른 사례: if문 내부에 포함\n    componentDidUpdate(prevProps) {\n        if (prevProps.count !== this.props.count) {\n            this.setState({})\n        }\n    }\n}\n"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"unmount"},"children":["UnMount"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"실행순서"},"children":["실행순서"]},{"$$mdtype":"Tag","name":"table","attributes":{},"children":[{"$$mdtype":"Tag","name":"thead","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Hook"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["Trigger"]},{"$$mdtype":"Tag","name":"th","attributes":{},"children":["역할"]}]}]},{"$$mdtype":"Tag","name":"tbody","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":["componentWillUnMount"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["컴퍼넌트가 언마운트되고 파기되기 직전"]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":["컴퍼넌트 언마운트"]}]}]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["componentDidMount로 작성한 컴퍼넌트를 파기할 때 componentWillUnMount 호출"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":3,"id":"사례"},"children":["사례"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"data-language":"javascript"},"children":["class Counter extends React.Component {\n    //set Timer\n    componentDidMount() {\n        this.timerId = setInterval(() => {\n            console.log('timer')\n        }, 500)\n    }\n\n    render() {\n        return <h1 id=\"content\"> Click count: {this.props.count}</h1>\n    }\n\n    //Timer Unmount\n    componentWillUnmount() {\n        clearInterval(this.timerId)\n    }\n\n}\n"]},{"$$mdtype":"Tag","name":"blockquote","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["clearInterval()"]}," : 기존에 ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["setInterval()"]},"로 설정된 반복 액션을 캔슬"]}]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"출처"},"children":["출처"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/"},"children":["React 공식문서"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://qiita.com/houka/items/7d9fa9f3613bc35731e9"},"children":["React lifecycle ライフサイクル"]}]}]}]},"frontmatter":{"title":"React Lifecycle","tags":"React"},"file":{"path":"/docs/220907-react-lifecycle.md"}}},"__N_SSG":true}